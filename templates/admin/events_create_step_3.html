<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
    <!-- Подключение Bootstrap CSS -->
	<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Подключение Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<style>
	body {
			font-family: system-ui;
		}
		.button {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			background: #1D076E;
			border-radius: 6px;
			border: none;
			padding: 10px 16px;
			margin-bottom: 10px;
			text-align: left;
		}
		.button2 {
			flex-shrink: 0;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			background: #F1F0F0;
			border-radius: 6px;
			border: none;
			padding: 14px 12px;
			text-align: left;
		}
		.button3 {
			flex-shrink: 0;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			background: none;
			border-radius: 8px;
			border: 2px solid #D4D2FF;
			padding: 16px 17px;
			text-align: left;
		}
		.button4 {
			flex-shrink: 0;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			background: #6D4DFF;
			border-radius: 8px;
			border: none;
			padding: 16px 17px;
			text-align: left;
		}
		.button-row-view {


    align-self: stretch;
    display: flex
;
    align-items: center;
    background: #F3F3F3;
    border-radius: 8px;
    border: none;
    padding: 0px 5px;
		}
		.column {
			flex-shrink: 0;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			background: #1A0043;
			padding: 25px 12px;
		}
		.column2 {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-bottom: 183px;
			gap: 24px;
		}
		.column3 {
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		.column4 {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
		}
		.column5 {
			flex: 1;
			display: flex;
			flex-direction: column;
			background: #FFFFFF;
			padding-top: 48px;
			padding-bottom: 370px;
			gap: 38px;
		}
		.column6 {
			align-self: stretch;
			display: flex;
			flex-direction: column;
			margin-left: 270px;
			margin-right: 270px;
			gap: 38px;
		}
		.column7 {
			align-self: stretch;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			gap: 32px;
		}
		.column8 {
			align-self: stretch;
			display: flex;
			flex-direction: column;
			gap: 10px;
		}
		.column9 {
			flex: 1;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			gap: 10px;
		}
		.column10 {
			align-self: stretch;
		}
		.column11 {
			align-self: stretch;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			gap: 10px;
		}
		.contain {
			display: flex;
			flex-direction: column;
			background: #FFFFFF;
		}
		.image {
			width: 20px;
			height: 20px;
			object-fit: fill;
		}
		.image2 {
			border-radius: 8px;
			width: 18px;
			height: 18px;
			object-fit: fill;
		}
		.image3 {
			width: 24px;
			height: 24px;
			object-fit: fill;
		}
		.image4 {
			width: 16px;
			height: 16px;
			object-fit: fill;
		}
		.image5 {
			width: 40px;
			height: 42px;
			object-fit: fill;
		}
		.input {
			color: #A0A0A0;
			font-size: 16px;
			flex: 1;
			align-self: stretch;
			background: none;
			border: none;
			padding-top: 1px;
			padding-bottom: 1px;
		}
		.row-view {
			align-self: stretch;
			display: flex;
			align-items: flex-start;
		}
		.row-view2 {
			display: flex;
			align-items: center;
			padding-top: 2px;
			padding-bottom: 2px;
			margin: 10px 16px 20px 16px;
			gap: 12px;
		}
		.row-view3 {
			display: flex;
			align-items: center;
			padding-top: 2px;
			padding-bottom: 2px;
			gap: 12px;
		}
		.row-view4 {
			display: flex;
			align-items: center;
			padding-top: 2px;
			padding-bottom: 2px;
			margin: 10px 16px;
			gap: 12px;
		}
		.row-view5 {
			display: flex;
			align-items: center;
			background: #6D4DFF;
			border-radius: 8px;
			padding: 12px 47px;
			gap: 7px;
		}
		.row-view6 {
			display: flex;
			align-items: center;
			margin: 12px 16px;
			gap: 12px;
		}
		.row-view7 {
			display: flex;
			align-items: center;
			padding: 10px 16px;
			gap: 50px;
		}
		.row-view8 {
			flex-shrink: 0;
			display: flex;
			align-items: center;
			padding-right: 1px;
			gap: 10px;
		}
		.row-view9 {
			align-self: stretch;
			display: flex;
			align-items: center;
			margin-left: 54px;
			margin-right: 54px;
			gap: 24px;
		}
		.row-view10 {
			align-self: stretch;
			display: flex;
			align-items: flex-start;
			gap: 12px;
		}
		.row-view11 {
			align-self: stretch;
			display: flex;
			align-items: center;
			background: #F3F3F3;
			border-radius: 8px;
			padding: 13px 16px;
		}
		.row-view12 {
			display: flex;
			align-items: center;
			padding-right: 2px;
			gap: 5px;
		}
		.row-view13 {
			align-self: stretch;
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
		}
		.row-view14 {
			flex-shrink: 0;
			display: flex;
			align-items: flex-start;
			gap: 12px;
		}
		.scroll-view {
			height: 908px;
			align-self: stretch;
			background: #FFFFFF;
		}
		.text {
			color: #F5F5F5;
			font-size: 20px;
			font-weight: bold;
			margin-bottom: 29px;
			margin-left: 16px;
		}
		.text2 {
			color: #F2F2FF;
			font-size: 14px;
			font-weight: bold;
		}
		.text3 {
			color: #F5F5F5;
			font-size: 14px;
			font-weight: bold;
		}
		.text4 {
			color: #FFFFFF;
			font-size: 14px;
			font-weight: bold;
		}
		.text5 {
			color: #FFFFFF;
			font-size: 16px;
			font-weight: bold;
		}
		.text6 {
			color: #000000;
			font-size: 18px;
			font-weight: bold;
		}
		.text7 {
			color: #000000;
			font-size: 23px;
			font-weight: bold;
		}
		.text8 {
			color: #000000;
			font-size: 16px;
			font-weight: bold;
		}
		.text9 {
			color: #A0A0A0;
			font-size: 16px;
			flex: 1;
		}
		.text10 {
			color: #5C4BD2;
			font-size: 14px;
			font-weight: bold;
		}
		.text11 {
			color: #252525;
			font-size: 14px;
			font-weight: bold;
		}
		.text12 {
			color: #6D4DFF;
			font-size: 16px;
			font-weight: bold;
		}
		.view {
			flex-shrink: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		.view2 {
			align-self: stretch;
			display: flex;
			flex-direction: column;
			align-items: flex-end;
		}

		.desktop-event-create {
			display: flex;
			  /*width: 1440px;*/
			  height: 900px;
			  align-items: center;
			  position: relative;
			  background-color: #ffffff;
		}
.form-actions {
  display: flex;
  gap: 16px;
  justify-content: flex-end;
  margin-top: 32px; /* <-- это отделит кнопки от Description */
}
.form-actions {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: flex-end;
  width: 690px;
  margin-top: 55px;    /* вот этот отступ ! */
  gap: 16px;
  /* остальное из фигмы */
}

.progress-indicator {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 13px 12px;
  width: 65px;
  height: 44px;
  background: #F1F0F0;
  border-radius: 6px;
}

.step-text {
  font-family: 'Instrument Sans', sans-serif;
  font-weight: 600;
  font-size: 14px;
  line-height: 132%;
  color: #252525;
}

.button-row {

  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 12px;
  /* ширина — по кнопкам */
}

/* Примерные стили для кнопок */
.btn {
  font-family: 'Instrument Sans', sans-serif;
  font-weight: 600;
  font-size: 16px;
  line-height: 130%;
  padding: 12px 16px;
  height: 46px;
  border-radius: 8px;
  min-width: 60px;
  cursor: pointer;
}
.btn.btn-outline {
  border: 2px solid #D4D2FF;
  color: #6D4DFF;
  background: #fff;
}
.btn.btn-primary {
  background: #6D4DFF;
  color: #fff;
  border: none;
}
.input-counter {
  font-family: 'Raleway', sans-serif;
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 132%;
  color: rgba(0, 0, 0, 0.6);
}

.input-calendar {
  width: 20px;
  height: 20px;
}

/* Chrome, Safari, Edge */
input[type="time"]::-webkit-calendar-picker-indicator {
    opacity: 0;
    display: none;
    /* иногда достаточно opacity: 0; */
}

/* Firefox */
input[type="time"]::-moz-calendar-picker-indicator {
    opacity: 0;
    display: none;
}

/* Edge (старый) */
input[type="time"]::-ms-clear,
input[type="time"]::-ms-expand {
    display: none;
}
/* Chrome, Safari, Edge */
input[type="date"]::-webkit-calendar-picker-indicator {
    opacity: 0;
    display: none;
    /* иногда достаточно opacity: 0; */
}

/* Firefox */
input[type="date"]::-moz-calendar-picker-indicator {
    opacity: 0;
    display: none;
}

/* Edge (старый) */
input[type="date"]::-ms-clear,
input[type="date"]::-ms-expand {
    display: none;
}

input[type="date"] {
    outline: none !important;
    box-shadow: none !important;
    border: none;
}
input[type="date"]:focus {
    outline: none !important;
    box-shadow: none !important;
    border: none;
}
input[type="time"] {
    outline: none !important;
    box-shadow: none !important;
    border: none;
}
input[type="time"]:focus {
    outline: none !important;
    box-shadow: none !important;
    border: none;
}

.date-time-grid {
  display: flex;
  gap: 48px;
}

.date-col {
  flex: 1 1 320px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.input-block {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
  width: 339px;
  height: 78px;
}
.input-row {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  padding: 14px 16px;
  gap: 10px;
  width: 690px;
  height: 47px;
  background: #F3F3F3;
  border-radius: 8px;
}
.input-row-2 {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  padding: 14px 16px;
  gap: 10px;
  width: 339px;
  height: 47px;
  background: #F3F3F3;
  border-radius: 8px;
}
.input-label {
  font-family: 'Instrument Sans', sans-serif;
  font-style: normal;
  font-weight: 600;
  font-size: 16px;
  line-height: 130%;
  color: #000;
  margin-bottom: 0;
}
.input-field {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  font-family: 'Instrument Sans', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 16px;
  line-height: 120%;
  color: #000;
}

.input-info {
	margin-bottom: auto;
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
}
.input-field::placeholder {
  color: #A0A0A0;
  font-family: inherit;
}
.input-field:focus, .textarea-field:focus {
	outline: none !important;
    box-shadow: none;
    border-color: transparent; /* или #F3F3F3 если нужен родной фон */
}
.input-counter {
  font-family: 'Raleway', sans-serif;
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 132%;
  color: rgba(0, 0, 0, 0.6);
}
.genre-input-wrapper {
  position: relative;
  width: 100%; /* или нужная ширина */
  max-width: 1440px; /* по макету */
}

.genre-input-row {
	margin-top: 2%;
    display: flex;
    align-items: center;
    gap: 0px;
    flex-wrap: wrap;
    background: #f3f3f3;
    border-radius: 8px;
    padding: 0px 12px;
    min-height: 47px;
    position: relative;
}

.genre-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  flex: 1 1 0%;
  min-width: 0;
  align-items: center;
}
.genre-select-display {
  font-family: 'Instrument Sans', serif;
cursor: pointer;
  font-size: 28px;
  color: #252525;
  user-select: none;
  margin-left: 6px;
  margin-right: 10px;
}
.genre-select-display .arrow {
  margin-left: 10px;
  font-size: 18px;
}
.genre-dropdown {
  position: absolute;
  left: 12px;
  top: 100%;
  z-index: 200;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 16px 2px #eee;
  min-width: 180px;
  width: max-content;
  padding: 6px 0;
  display: none;
}
.genre-dropdown.open {
  display: block;
}
.genre-option {
  font-family: 'Instrument Sans', serif;
  padding: 8px 18px;
  cursor: pointer;
  font-size: 18px;
  color: #252525;
  white-space: nowrap;
}
.genre-option:hover {
  background: #f3f3f3;
}
.genre-option.disabled {
  color: #aaa;
  pointer-events: none;
  background: #f6f6f6;
}
.tag {
  display: inline-block;
  background: #e5e7fa;
  border-radius: 16px;
  padding: 4px 10px;
  margin: 2px;
}
.styled-checkbox {
  display: flex;
  align-items: center;
  cursor: pointer;
  gap: 10px;
  font-family: 'Instrument Sans', serif;
  font-weight: 700;
  font-size: 28px;
  color: #5C4BD3;
}

.styled-checkbox input {
  display: none;
}

.styled-checkbox .checkmark {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  background: #fff;
  border: 2px solid #5C4BD3;
  position: relative;
  display: inline-block;
  transition: background 0.2s, border 0.2s;
}

.styled-checkbox input:checked + .checkmark {
  background: #5C4BD3;
  border: 2px solid #5C4BD3;
}

/* Галочка появляется только при checked */
.styled-checkbox .checkmark::after {
  content: "";
  display: none;
  position: absolute;
  left: 3px;
    top: 1px;
 width: 6px;
    height: 10px;
  border: solid #fff;
  border-width: 0 4px 4px 0;
  border-radius: 2px;
  transform: rotate(45deg) scale(0.8);
}

.styled-checkbox input:checked + .checkmark::after {
  display: block;
}
.modal-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(38, 38, 38, 0.36);
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
}
.modal-content {
  background: #fff;
  border-radius: 10px;
  padding: 32px 48px 24px;
  width: 455px;
  min-height: 311px;
  box-shadow: 0 8px 32px rgba(60, 60, 80, 0.08);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  position: relative;
}
.modal-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 8px;
}
.modal-title {
  font-family: 'Raleway', sans-serif;
  font-weight: 700;
  font-size: 29px;
  line-height: 120%;
  color: #252525;
  margin-bottom: 0;
  text-align: center;
}
.modal-desc {
  font-family: 'Instrument Sans', sans-serif;
  font-size: 16px;
  color: #4F4F4F;
  text-align: center;
  line-height: 120%;
}
.modal-btn {
  margin-top: 16px;
  background: #6D4DFF;
  color: #fff;
  border: none;
  border-radius: 8px;
  font-family: 'Instrument Sans', sans-serif;
  font-weight: 600;
  font-size: 16px;
  line-height: 130%;
  padding: 12px 32px;
  cursor: pointer;
  transition: background 0.2s;
}
.modal-btn:hover {
  background: #5C4BD3;
}
	</style>
<body>
    <div class="desktop-event-create">
      {% include 'admin/sidebar.html' %}
		<form method="POST" action="/admin/events/create" enctype="multipart/form-data">
            <input type="hidden" name="step" value="step_3">
    <div class="column5">
					<div class="row-view9">

						<button
							  type="button"
							  style="
								background: none;
								border: none;
								padding: 0;
								margin: 0;
								cursor: pointer;
								outline: none;
							  "
							   onclick="window.location.href='/admin/events/cancel'"
							  aria-label="Назад"
							>
							  <img src="/static/images/sidebar/left.svg" alt="Back" draggable="false" style="display: block;" />
							</button>
													<span class="text6" >
							Create new event
						</span>
					</div>
					<div class="column6">
						<div class="column7">
							<span class="text7" style="font-family: Instrument Sans, sans-serif;">
								Add tickets
							</span>
							<div class="column8">
								<div class="row-view10">
									<div class="input-block">
  <label class="input-label" for="available-quantity-name">Available quantity</label>
  <div class="input-row-2">
    <input
      class="input-field"
      id="available-quantity-name"
      name="available_quantity"
      type="number"
      min="1"
      placeholder="Enter quantity"
      autocomplete="off"
    />
    <div class="input-info">
      <img src="/static/images/sidebar/CalendarBlank.svg" class="input-calendar" alt="calendar"/>
    </div>
  </div>
</div>

									<div class="input-block">
  <label class="input-label" for="price-input" >Price</label>
  <div class="input-row-2">
    <input
      class="input-field"
      id="price-input"
      name="price"
      type="number"
	  min="0"
      placeholder="Enter price"
      autocomplete="off"
	  style="font-family: 'Instrument Sans', sans-serif;"
    />
    <div class="input-info">
      <img src="/static/images/sidebar/CalendarBlank.svg" class="input-calendar" alt="calendar"/>
    </div>
  </div>
</div>
								</div>
								<div class="column10">
									<div class="view2">
										<div class="row-view12">

										<label class="styled-checkbox">
  <input type="checkbox" name="free_entrance"  id="free-entrance-checkbox">
  <span class="checkmark"></span>
  <span class="checkbox-label text10">Free entrance</span>
</label>
										</div>
									</div>

									<div class="genre-input-wrapper">
                                        <input type="hidden" id="genres-input" name="genres" value="">
											<span class="input-label">
											Genre
										</span>
  <div class="genre-input-row" onclick="toggleGenreDropdown()">
    <div id="genre-tags" class="genre-tags"></div>
    <div class="button-row-view" >
      <span id="genre-placeholder" class="text9"  style="margin-left: -584%;font-family: Instrument Sans, sans-serif;">Select genre</span>
    </div>
    <img src="/static/images/sidebar/CalendarBlank.svg" class="input-calendar" alt="calendar"/>
  </div>
  <div id="genre-dropdown" class="genre-dropdown">
    <div class="genre-option" onclick="selectGenre('Techno')">Techno</div>
    <div class="genre-option" onclick="selectGenre('House')">House</div>
    <div class="genre-option" onclick="selectGenre('Trance')">Trance</div>
  </div>
</div>
								</div>
							</div>
						</div>
						<div class="form-actions">
						  <div class="progress-indicator">
							<span class="step-text">3 of 3</span>
						  </div>
						  <div class="button-row">
							<button class="btn btn-outline" type="button" onclick="window.location.href='/admin/events/cancel'">Cancel</button>
							<button class="btn btn-primary" >Next</button>
						  </div>
						</div>
                            </div>
                        </div>
			    </form>
    </div>
<div id="event-success-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <div class="modal-icon">
      <!-- Галочка SVG -->
      <svg width="48" height="48" fill="none">
        <rect width="48" height="48" rx="9" fill="#F7F7F7"/>
        <path d="M34 18l-11 13-7-6" stroke="#5C4BD3" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div class="modal-title">Event successfully saved</div>
    <div class="modal-desc">
      Your event was successfully created as a draft<br>
      You can edit and publish it anytime from the<br>
      <b>Unpublished</b> events section.
    </div>
    <button class="modal-btn" onclick="window.location.href='/admin/events'">Go to event list</button>
  </div>
</div>
<div id="event-error-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <div class="modal-icon">
      <!-- Иконка-ошибка SVG (крестик в круге) -->
      <svg width="48" height="48" fill="none">
        <rect width="48" height="48" rx="9" fill="#F7F7F7"/>
        <path d="M16 16l16 16M32 16l-16 16" stroke="#D33A3A" stroke-width="3" stroke-linecap="round"/>
      </svg>
    </div>
    <div class="modal-title" style="color: #D33A3A;">Event not saved</div>
    <div class="modal-desc">
      Something went wrong while saving your event.<br>
      Please try again.<br>
      If the problem persists, contact support.
    </div>
    <button class="modal-btn" onclick="hideErrorModal()">Close</button>
  </div>
</div>

  </body>
<script>
	const input = document.getElementById('date-input');
input.addEventListener('focus', function() {
  this.placeholder = 'ДД.ММ.ГГГГ';
});
input.addEventListener('blur', function() {
  if (!this.value) this.placeholder = 'Select date';
});

function updateCharCount(input, counterSelector, max) {
  const val = input.value.length;
  document.querySelector(counterSelector).textContent = `${val}/${max} characters`;
}
</script>
<script>
const genreDropdown = document.getElementById("genre-dropdown");
const genreTags = document.getElementById("genre-tags");
const genrePlaceholder = document.getElementById("genre-placeholder");
let selectedGenres = [];

function toggleGenreDropdown() {
  // При каждом открытии обновляем дизейблы
  document.querySelectorAll('.genre-option').forEach(option => {
    if (selectedGenres.includes(option.textContent.trim())) {
      option.classList.add('disabled');
      option.onclick = null;
    } else {
      option.classList.remove('disabled');
      option.onclick = function(e) {
        e.stopPropagation();
        selectGenre(option.textContent.trim());
      };
    }
  });
  genreDropdown.style.display = genreDropdown.style.display === "block" ? "none" : "block";
}

document.querySelector('.genre-input-row').onclick = function(e) {
  e.stopPropagation();
  toggleGenreDropdown();
};

function selectGenre(genre) {
  if (!selectedGenres.includes(genre)) {
    selectedGenres.push(genre);
    renderSelectedGenres();
  }
  genreDropdown.style.display = "none";
  document.getElementById("genres-input").value = selectedGenres.join(",");
}

function renderSelectedGenres() {
  genreTags.innerHTML = "";
  selectedGenres.forEach(g => {
    const tag = document.createElement("span");
    tag.className = "tag";
    tag.textContent = g;

    const remove = document.createElement("span");
    remove.className = "remove-genre";
    remove.textContent = " ×";
    remove.onclick = (e) => {
      e.stopPropagation();
      selectedGenres = selectedGenres.filter(val => val !== g);
      renderSelectedGenres();
    };

    tag.appendChild(remove);
    genreTags.appendChild(tag);
  });
  genrePlaceholder.style.display = selectedGenres.length ? "none" : "inline";
  let input = document.getElementById("genres-input");
  if (!input) {
    input = document.createElement("input");
    input.type = "hidden";
    input.id = "genres-input";
    input.name = "genres";
    genreTags.parentNode.appendChild(input);
  }
  input.value = selectedGenres.join(",");
  // Синхронизируем дизейблы после изменений
  document.querySelectorAll('.genre-option').forEach(option => {
    if (selectedGenres.includes(option.textContent.trim())) {
      option.classList.add('disabled');
      option.onclick = null;
    } else {
      option.classList.remove('disabled');
      option.onclick = function(e) {
        e.stopPropagation();
        selectGenre(option.textContent.trim());
      };
    }
  });
}

document.addEventListener("click", function(e) {
  if (!e.target.closest('.genre-input-wrapper')) {
    genreDropdown.style.display = "none";
  }
});

renderSelectedGenres();
</script>
<script>
	document.addEventListener('DOMContentLoaded', function() {
  const freeEntranceCheckbox = document.getElementById('free-entrance-checkbox');
  const priceInput = document.getElementById('price-input');

  freeEntranceCheckbox.addEventListener('change', function() {
    if (this.checked) {
      priceInput.value = 0;
      priceInput.setAttribute('readonly', 'readonly');
    } else {
      priceInput.removeAttribute('readonly');
      priceInput.value = '';
    }
  });
});
function hideErrorModal() {
  document.getElementById('event-error-modal').style.display = 'none';
}
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  {% if show_modal == True %}
    document.getElementById('event-success-modal').style.display = 'flex';
  {% elif show_modal == 'error' %}
    document.getElementById('event-error-modal').style.display = 'flex';
  {% endif %}
});
</script>
<script>

</script>
</html>
